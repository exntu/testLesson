<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- namespace에서 interface로 정의된 DAO를 정확히 명시해주어야 한다 -->
<mapper namespace="com.skt.date.sql.matchingDetail">

	<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// 
		/////////////////////////////////////////////// INCLUDE //////////////////////////////////////////////// 
		//////////////////////////////////////////////////////////////////////////////////////////////////// -->

	<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// 
		/////////////////////////////////////////////// SELECT ///////////////////////////////////////////////// 
		//////////////////////////////////////////////////////////////////////////////////////////////////// -->

		<!-- //////////////////////////////////////////////////
		//
		// 선택된 카드 상세정보
		//
		////////////////////////////////////////////////// -->
		<select id="matchingDetailEmail" parameterType="String" resultType="MatchingAllVo">
			/* com.skt.date.sql.matchingDetail.matchingDetailEmail*/
			SELECT
				T_USER.EMAIL AS email,
				T_USER.GENDER AS gender,
				T_USER.NICKNAME AS nickname,
				T_USER_ADDITIONAL.CLASSIFY AS classify,
				T_USER_ADDITIONAL.DATA AS data
			FROM
				T_USER
			JOIN 
				T_USER_ADDITIONAL
			ON
				T_USER.EMAIL = T_USER_ADDITIONAL.EMAIL
			WHERE
				T_USER_ADDITIONAL.EMAIL =  #{ email }
		</select>

	<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// 
		/////////////////////////////////////////////// MERGE ////////////////////////////////////////////////// 
		//////////////////////////////////////////////////////////////////////////////////////////////////// -->

	<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// 
		/////////////////////////////////////////////// INSERT ///////////////////////////////////////////////// 
		//////////////////////////////////////////////////////////////////////////////////////////////////// -->
		
	<!-- //////////////////////////////////////////////////
	//
	// INSERT 만난 사람
	//
	////////////////////////////////////////////////// -->
	<insert id="insertMatchingRate" parameterType="FeelingVo" >
		/*	com.skt.date.sql.matchingDetail.insertMatchingRate*/
		<![CDATA[
			INSERT	INTO	T_FEELING (
			 						`FROM`
			 					,	 `TO`
			 					,	VALUE
			 					,	CREATE_DT 
			)	VALUES	(
			 						 #{ from }
			 					,	 #{ to }
			 					,	#{ value }
			 					,	CURRENT_TIMESTAMP()
			)
		]]>
	</insert>

	<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// 
		/////////////////////////////////////////////// UPDATE ///////////////////////////////////////////////// 
		//////////////////////////////////////////////////////////////////////////////////////////////////// -->

	<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// 
		/////////////////////////////////////////////// DELETE ///////////////////////////////////////////////// 
		//////////////////////////////////////////////////////////////////////////////////////////////////// -->

</mapper>